{% extends "layout.html" %}
{% block content %}
<!-- Add in <head> of base layout if missing -->
<meta name="viewport" content="width=device-width, initial-scale=1" />

<div class="mx-auto max-w-7xl px-3 sm:px-4">
    <!-- Header -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6">
        <div class="min-w-0">
            <h1 class="text-xl sm:text-2xl font-semibold text-slate-800">
                <i class="fa-solid fa-calculator mr-2"></i> Cost Calculator
            </h1>
            <p class="text-slate-600 text-xs sm:text-sm">Estimate workforce costs with advanced budgeting tools.</p>
        </div>
        <div class="flex flex-wrap items-center gap-2">
            <button id="saveScenarioBtn"
                class="px-3 py-2 rounded-xl border border-slate-300 bg-white hover:bg-slate-50 text-sm">
                <i class="fa-solid fa-save mr-1"></i> Save Scenario
            </button>
            <button id="exportBudgetBtn"
                class="px-3 py-2 rounded-xl bg-slate-800 text-white hover:bg-slate-900 text-sm">
                <i class="fa-solid fa-download mr-1"></i> Export Budget
            </button>
            <a href="{{ url_for('dashboard') }}"
                class="px-3 py-2 rounded-xl border border-slate-300 bg-white hover:bg-slate-50 text-sm">
                <i class="fa-solid fa-arrow-left mr-1"></i> Back
            </a>
        </div>
    </div>

    <!-- Calculator Type Tabs -->
    <div class="mb-4 sm:mb-6">
        <div class="flex space-x-1 bg-slate-100 p-1 rounded-xl overflow-x-auto no-scrollbar">
            <button id="positionTab"
                class="calculator-tab active px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap">
                <i class="fa-solid fa-user mr-1"></i> Position Calculator
            </button>
            <button id="teamTab"
                class="calculator-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap">
                <i class="fa-solid fa-users mr-1"></i> Team Calculator
            </button>
            <button id="budgetTab"
                class="calculator-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap">
                <i class="fa-solid fa-chart-pie mr-1"></i> Budget Planner
            </button>
            <button id="scenarioTab"
                class="calculator-tab px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap">
                <i class="fa-solid fa-flask mr-1"></i> Scenario Analysis
            </button>
        </div>
    </div>

    <!-- Position Calculator -->
    <div id="positionCalculator" class="calculator-panel">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6">
            <!-- Input Form -->
            <div class="lg:col-span-2 rounded-2xl border border-slate-200 bg-white p-4 sm:p-6">
                <h3 class="text-base sm:text-lg font-semibold text-slate-800 mb-3 sm:mb-4">
                    <i class="fa-solid fa-user-plus mr-2"></i> Position Details
                </h3>

                <form id="positionForm" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Job Title *</label>
                            <input type="text" id="positionTitle" required
                                class="w-full rounded-lg border border-slate-300 px-3 py-2">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Department</label>
                            <select id="positionDepartment" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                                <option value="">Select Department</option>
                                <option value="engineering">Engineering</option>
                                <option value="sales">Sales</option>
                                <option value="marketing">Marketing</option>
                                <option value="hr">Human Resources</option>
                                <option value="finance">Finance</option>
                                <option value="operations">Operations</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Level</label>
                            <select id="positionLevel" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                                <option value="">Select Level</option>
                                <option value="entry">Entry Level</option>
                                <option value="mid">Mid Level</option>
                                <option value="senior">Senior Level</option>
                                <option value="lead">Lead/Manager</option>
                                <option value="director">Director</option>
                                <option value="executive">Executive</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Location</label>
                            <select id="positionLocation" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                                <option value="">Select Location</option>
                                <option value="san-francisco">San Francisco</option>
                                <option value="new-york">New York</option>
                                <option value="austin">Austin</option>
                                <option value="remote">Remote</option>
                            </select>
                        </div>
                    </div>

                    <div class="border-t border-slate-200 pt-4">
                        <h4 class="font-medium text-slate-800 mb-3">Compensation Details</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Base Salary *</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                                    <input type="number" id="baseSalary" required min="0" step="1000"
                                        class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Bonus Target (%)</label>
                                <input type="number" id="bonusPercent" min="0" max="100" step="5"
                                    class="w-full rounded-lg border border-slate-300 px-3 py-2">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Equity Value
                                    (Annual)</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                                    <input type="number" id="equityValue" min="0" step="1000"
                                        class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Employment Type</label>
                                <select id="employmentType" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                                    <option value="full-time">Full-Time</option>
                                    <option value="part-time">Part-Time</option>
                                    <option value="contractor">Contractor</option>
                                    <option value="intern">Intern</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-slate-200 pt-4">
                        <h4 class="font-medium text-slate-800 mb-3">Benefits & Additional Costs</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4">
                            <!-- unchanged inputs -->
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Health Insurance</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                                    <input type="number" id="healthInsurance" min="0" step="100" placeholder="Monthly"
                                        class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Retirement (401k Match
                                    %)</label>
                                <input type="number" id="retirement401k" min="0" max="10" step="0.5"
                                    class="w-full rounded-lg border border-slate-300 px-3 py-2">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Equipment & Setup</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                                    <input type="number" id="equipment" min="0" step="100" placeholder="One-time"
                                        class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Training &
                                    Development</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                                    <input type="number" id="training" min="0" step="100" placeholder="Annual"
                                        class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Office Space</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                                    <input type="number" id="officeSpace" min="0" step="100" placeholder="Monthly"
                                        class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Other Benefits</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                                    <input type="number" id="otherBenefits" min="0" step="100" placeholder="Monthly"
                                        class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-slate-200 pt-4">
                        <h4 class="font-medium text-slate-800 mb-3">Taxes & Overhead</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4">
                            <!-- unchanged inputs -->
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Payroll Tax Rate
                                    (%)</label>
                                <input type="number" id="payrollTax" min="0" max="20" step="0.1" value="7.65"
                                    class="w-full rounded-lg border border-slate-300 px-3 py-2">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Workers' Comp (%)</label>
                                <input type="number" id="workersComp" min="0" max="5" step="0.1" value="0.5"
                                    class="w-full rounded-lg border border-slate-300 px-3 py-2">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Unemployment (%)</label>
                                <input type="number" id="unemployment" min="0" max="10" step="0.1" value="2.5"
                                    class="w-full rounded-lg border border-slate-300 px-3 py-2">
                            </div>
                        </div>
                    </div>

                    <button type="button" id="calculatePosition"
                        class="w-full px-4 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium">
                        <i class="fa-solid fa-calculator mr-2"></i> Calculate Total Cost
                    </button>
                </form>
            </div>

            <!-- Results Panel -->
            <div class="rounded-2xl border border-slate-200 bg-white p-4 sm:p-6">
                <h3 class="text-base sm:text-lg font-semibold text-slate-800 mb-3 sm:mb-4">
                    <i class="fa-solid fa-chart-line mr-2"></i> Cost Breakdown
                </h3>

                <div id="positionResults" class="hidden space-y-4">
                    <div class="p-4 rounded-lg bg-blue-50 border border-blue-200">
                        <div class="text-sm text-blue-600 mb-1">Total Annual Cost</div>
                        <div id="totalAnnualCost" class="text-2xl font-bold text-blue-800">$0</div>
                        <div class="text-xs text-blue-600 mt-1">Including all benefits and taxes</div>
                    </div>
                    <div class="p-3 rounded-lg bg-slate-50">
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-600">Monthly Cost</span>
                            <span id="monthlyCost" class="font-medium text-slate-800">$0</span>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <h4 class="text-sm font-medium text-slate-800">Breakdown</h4>
                        <div id="costBreakdown" class="space-y-1 text-sm"></div>
                    </div>
                    <div class="p-3 rounded-lg bg-green-50">
                        <div class="flex justify-between">
                            <span class="text-sm text-green-600">Effective Hourly Rate</span>
                            <span id="hourlyRate" class="font-medium text-green-800">$0</span>
                        </div>
                        <div class="text-xs text-green-600 mt-1">Based on 40 hrs/week, 52 weeks</div>
                    </div>
                    <div class="p-3 rounded-lg bg-purple-50">
                        <div class="flex justify-between">
                            <span class="text-sm text-purple-600">Benefits Ratio</span>
                            <span id="benefitsRatio" class="font-medium text-purple-800">0%</span>
                        </div>
                        <div class="text-xs text-purple-600 mt-1">Benefits as % of base salary</div>
                    </div>
                </div>

                <div id="positionEmptyState" class="text-center py-8 text-slate-500">
                    <i class="fa-solid fa-calculator text-4xl mb-4"></i>
                    <p>Enter position details and click "Calculate Total Cost" to see the breakdown.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Team Calculator -->
    <div id="teamCalculator" class="calculator-panel hidden">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
            <div class="rounded-2xl border border-slate-200 bg-white p-4 sm:p-6">
                <div class="flex items-center justify-between mb-3 sm:mb-4">
                    <h3 class="text-base sm:text-lg font-semibold text-slate-800">
                        <i class="fa-solid fa-users mr-2"></i> Team Builder
                    </h3>
                    <button id="addTeamMember"
                        class="px-3 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 text-sm">
                        <i class="fa-solid fa-plus mr-1"></i> Add Member
                    </button>
                </div>
                <div id="teamMembers" class="space-y-3"></div>
                <div class="mt-6 pt-4 border-t border-slate-200">
                    <button id="calculateTeam"
                        class="w-full px-4 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 font-medium">
                        <i class="fa-solid fa-calculator mr-2"></i> Calculate Team Cost
                    </button>
                </div>
            </div>

            <div class="rounded-2xl border border-slate-200 bg-white p-4 sm:p-6">
                <h3 class="text-base sm:text-lg font-semibold text-slate-800 mb-3 sm:mb-4">
                    <i class="fa-solid fa-chart-pie mr-2"></i> Team Cost Analysis
                </h3>
                <div id="teamResults" class="hidden space-y-4"></div>
                <div id="teamEmptyState" class="text-center py-8 text-slate-500">
                    <i class="fa-solid fa-users text-4xl mb-4"></i>
                    <p>Add team members to see cost analysis.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Budget Planner -->
    <div id="budgetPlanner" class="calculator-panel hidden">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6">
            <div class="rounded-2xl border border-slate-200 bg-white p-4 sm:p-6">
                <h3 class="text-base sm:text-lg font-semibold text-slate-800 mb-3 sm:mb-4">
                    <i class="fa-solid fa-cog mr-2"></i> Budget Parameters
                </h3>
                <!-- controls unchanged -->
                <div class="space-y-4">
                    <!-- ... your existing controls ... -->
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Budget Period</label>
                        <select id="budgetPeriod" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                            <option value="annual">Annual Budget</option>
                            <option value="quarterly">Quarterly Budget</option>
                            <option value="monthly">Monthly Budget</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Total Budget</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                            <input type="number" id="totalBudget" min="0" step="10000"
                                class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Growth Rate (%)</label>
                        <input type="number" id="growthRate" min="0" max="50" step="1"
                            class="w-full rounded-lg border border-slate-300 px-3 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Department Focus</label>
                        <select id="budgetDepartment" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                            <option value="all">All Departments</option>
                            <option value="engineering">Engineering</option>
                            <option value="sales">Sales</option>
                            <option value="marketing">Marketing</option>
                            <option value="hr">Human Resources</option>
                            <option value="finance">Finance</option>
                        </select>
                    </div>
                    <button id="generateBudget"
                        class="w-full px-4 py-3 rounded-lg bg-green-600 text-white hover:bg-green-700 font-medium">
                        <i class="fa-solid fa-chart-pie mr-2"></i> Generate Budget Plan
                    </button>
                </div>
            </div>

            <!-- Budget Allocation -->
            <div class="lg:col-span-2 rounded-2xl border border-slate-200 bg-white p-4 sm:p-6">
                <div class="flex items-center justify-between mb-3 sm:mb-4">
                    <h3 class="text-base sm:text-lg font-semibold text-slate-800">
                        <i class="fa-solid fa-pie-chart mr-2"></i> Budget Allocation
                    </h3>
                    <div class="text-xs sm:text-sm text-slate-600">
                        <span id="budgetUtilization">0%</span> of budget allocated
                    </div>
                </div>

                <!-- Make chart container responsive height -->
                <div id="budgetChart" class="mb-4 sm:mb-6 relative h-56 sm:h-72">
                    <canvas id="budgetPieChart" class="absolute inset-0 w-full h-full"></canvas>
                </div>

                <div id="budgetBreakdown" class="space-y-3"></div>
            </div>
        </div>
    </div>

    <!-- Scenario Analysis -->
    <div id="scenarioAnalysis" class="calculator-panel hidden">
        <div class="rounded-2xl border border-slate-200 bg-white p-4 sm:p-6">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4 sm:mb-6">
                <h3 class="text-base sm:text-lg font-semibold text-slate-800">
                    <i class="fa-solid fa-flask mr-2"></i> Scenario Comparison
                </h3>
                <button id="addScenario"
                    class="px-3 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700 text-sm">
                    <i class="fa-solid fa-plus mr-1"></i> Add Scenario
                </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6" id="scenarioGrid"></div>

            <div class="mt-4 sm:mt-6">
                <div class="rounded-lg border border-slate-200 p-3 sm:p-4">
                    <h4 class="font-medium text-slate-800 mb-3">Scenario Comparison Chart</h4>
                    <div class="relative h-56 sm:h-64">
                        <canvas id="scenarioChart" class="absolute inset-0 w-full h-full"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Team Member Modal -->
<div id="addMemberModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
    <div class="fixed inset-0 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-3 sm:p-4">
            <div class="bg-white rounded-2xl shadow-xl w-full max-w-full sm:max-w-md mx-2">
                <div class="p-4 sm:p-6 border-b border-slate-200">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-semibold text-slate-800">Add Team Member</h3>
                        <button id="closeAddMemberModal" class="text-slate-400 hover:text-slate-600">
                            <i class="fa-solid fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                <div class="p-4 sm:p-6 space-y-4">
                    <!-- modal fields unchanged -->
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Role Title</label>
                        <input type="text" id="memberRole" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Level</label>
                            <select id="memberLevel" class="w-full rounded-lg border border-slate-300 px-3 py-2">
                                <option value="entry">Entry</option>
                                <option value="mid">Mid</option>
                                <option value="senior">Senior</option>
                                <option value="lead">Lead</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Count</label>
                            <input type="number" id="memberCount" min="1" value="1"
                                class="w-full rounded-lg border border-slate-300 px-3 py-2">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">Annual Salary</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">$</span>
                            <input type="number" id="memberSalary" min="0" step="1000"
                                class="w-full pl-8 rounded-lg border border-slate-300 px-3 py-2">
                        </div>
                    </div>
                    <div
                        class="flex flex-col sm:flex-row sm:items-center justify-end gap-2 pt-4 border-t border-slate-200">
                        <button id="cancelAddMember"
                            class="px-4 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50">Cancel</button>
                        <button id="confirmAddMember"
                            class="px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700">
                            <i class="fa-solid fa-plus mr-1"></i> Add Member
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- (Keep your existing <script> block; logic unchanged) -->
<script>
    /* your entire JS stays the same, except these tweaks: */

    // 1) Make Chart.js charts fill responsive containers (we already switched canvases to absolute fill).
    function renderBudgetChart(data) {
        const ctx = document.getElementById('budgetPieChart').getContext('2d');
        if (window.budgetChartInstance) window.budgetChartInstance.destroy();
        window.budgetChartInstance = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: data.map(i => i.category),
                datasets: [{
                    data: data.map(i => i.amount),
                    backgroundColor: ['#3b82f6', '#ef4444', '#10b981', '#f59e0b', '#8b5cf6', '#06b6d4', '#84cc16'],
                    borderWidth: 2, borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right' },
                    tooltip: {
                        callbacks: {
                            label: (ctx) => {
                                const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                                const pct = (ctx.raw / total * 100).toFixed(1);
                                return `${ctx.label}: ${new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(ctx.raw)} (${pct}%)`;
                            }
                        }
                    }
                }
            }
        });
    }

    function renderScenarioChart() {
        const el = document.getElementById('scenarioChart');
        if (!el) return;
        const ctx = el.getContext('2d');
        if (window.scenarioChartInstance) window.scenarioChartInstance.destroy();
        if (scenarios.length === 0) return;
        window.scenarioChartInstance = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: scenarios.map(s => s.name),
                datasets: [{
                    label: 'Total Cost',
                    data: scenarios.map(s => calculateScenarioCost(s)),
                    backgroundColor: 'rgba(139, 92, 246, 0.6)',
                    borderColor: 'rgba(139, 92, 246, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: { callback: (v) => '$' + (v / 1e6).toFixed(1) + 'M' }
                    }
                }
            }
        });
    }
</script>

<style>
    .calculator-tab.active {
        background-color: #1e293b;
        color: #fff;
    }

    .calculator-tab:not(.active) {
        color: #64748b;
    }

    .calculator-tab:not(.active):hover {
        background-color: #f1f5f9;
        color: #334155;
    }

    /* Hide scrollbar in tab strip on mobile */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
</style>
{% endblock %}